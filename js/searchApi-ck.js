function slowLoop(e,t){e[t]&&setTimeout(function(){t++;slowLoop(e,t)},1e3)}jQuery.fn.slowEach=function(e,t,n){function i(){n.call(e[r],r,e[r])!==!1&&++r<e.length&&setTimeout(i,t)}if(!e.length)return;var r=0;i()};var searchApi={language:{english:javascripture.data.kjv,greek:javascripture.data.greek,hebrew:javascripture.data.hebrew},books:{english:["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],hebrew:["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"],greek:["Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"]},types:["word","lemma","morph"],results:{references:[],matches:{}},getReferences:function(e){var t=this;console.log(e);this.deferred=$.Deferred();this.lookForTerm(e)},doesDataMatchTerm:function(e,t,n){t=t.toLowerCase();n=n.toLowerCase();return t===n?!0:e!=="lemma"&&t.search(n)>-1?!0:!1},resetMatches:function(){this.results.matches={}},addReference:function(e,t,n){this.results.references.push({book:e,chapter:t+1,verse:n+1})},lookForTerm:function(e){var t=this,n=this.language[e.language];t.results.references=[];t.resetMatches();var r=this.books[e.language],i=0;for(var s in t.types){var o=t.types[s];termString=e[o];if(termString!==undefined&&termString!==""){var u=termString.split(" ");i+=u.length}}jQuery.fn.slowEach(r,1,function(s,o){var u=n[o];$(document).trigger("loading","searching "+o);for(var a=0,f=u.length;a<f;a++){chapter=u[a];e.range==="chapter"&&e.clusivity==="exclusive"&&t.resetMatches();for(var l=0,c=chapter.length;l<c;l++){verse=chapter[l];e.range==="verse"&&e.clusivity==="exclusive"&&t.resetMatches();for(var h=0,p=verse.length;h<p;h++){var d=verse[h];e.range==="word"&&e.clusivity==="exclusive"&&t.resetMatches();var v,m;for(var g in t.types){var y=t.types[g];m=e[y];if(m!==undefined&&m!==""&&d!==undefined&&typeof d[g]!="undefined"){var b=m.split(" ");for(var w=0,E=b.length;w<E;w++){var S=b[w];t.doesDataMatchTerm(y,d[g],S)&&(e.clusivity==="exclusive"?t.results.matches[S]=!0:t.addReference(o,a,l))}}}if(e.clusivity==="exclusive"){v=0;$.each(t.results.matches,function(e,t){v++});if(v>0&&v>=i){console.log(v,i);t.addReference(o,a,l);t.resetMatches()}}}}}s===r.length-1&&t.deferred.resolve()})},standarizeWordEndings:function(e){return e.replace(/ם/gi,"מ")},getTranslations:function(e){}};