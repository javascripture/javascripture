/*Event Handling*/$(document).ready(function(){function e(){$("#showHebrew:checked").length>0?$("#verse").addClass("showHebrew"):$("#verse").removeClass("showHebrew")}$(document).on("click","#showNotes",function(){$("body").toggleClass("show-notes")});$(document).on("click",".collapsable h2",function(){$(this).parent().toggleClass("closed")});$(document).on("focus","input[type=text]",function(){$(this).select()});$("select.lookup").change(function(){selectOptionDisplay($(this));$(this).blur()});$(document).on("mouseover","#verse ol > li span, #strongsTracking ul > li > span, #referenceTracking h2",function(){if($("#"+$(this).attr("class")).length>0){$("#verse").addClass("isolate");$(".verse").attr("id",$(this).attr("class"))}});$(document).on("mouseout","#verse ol > li  span, #strongsTracking ul > li > span, #referenceTracking h2",function(){$("#verse").removeClass("isolate")});$(document).on("mouseover","#wordControlPanel",function(){$(this).removeClass("not-active")});$(document).on("mouseout","#wordControlPanel",function(){});$(document).on("click","#wordControlPanel .highlight",function(){var e=$(this).parent().find(".wordControlPanelStrongsNumber").text();highlightStrongsNumber(e)});$(document).on("click","#wordControlPanel .search",function(){var e=$(this).parent().find(".wordControlPanelStrongsNumber").text();$("input#reverseRootStrongsNumber").val(e);$("input#searchTerm").val(e);$("input#search").click()});$(document).on("click","#wordControlPanel .definitions-link",function(){$(this).siblings(".definitions").toggleClass("hide")});$(document).on("click",".references a",function(){markReference($(this).parent("li"));return!1});$(document).on("click","#strongsTracking a.close",function(){var e=$(this).closest("li"),t=e.attr("id");e.remove();$("#"+t).attr("id","");return!1});$(document).on("click","#strongsTracking a.tracker",function(){highlightStrongsNumber($(this).attr("href"));return!1});$("#colorFormColor").change(function(){var e=$("#changeColor #colorFormStrongsNumber").val(),t=$("#changeColor #colorFormColor").val();$("#"+e).find("style").html("#"+e+" #verse span."+e+", #"+e+" ."+e+", ."+e+" {color:#fff;background:"+t+";}")});$("#changeColor").on("submit",function(){var e=$("#changeColor #colorFormStrongsNumber").val(),t=$("#changeColor #colorFormColor").val();$("#"+e).find("style").html("."+e+"{background:"+t+";color:#fff;}");return!1});$("#previousBook").on("click",function(){$("select#bookSelect option:selected").attr("selected","").prev().attr("selected","selected").change()});$("#previousChapter").on("click",function(){verse=1;chapter=$("#chapterSelect").val()-1;book=$("#bookSelect").val();if(typeof bibleObject[book][chapter-1]!="undefined")setHashState(book,chapter,verse);else{previousBook=$("#bookSelect option:selected").prev().val();var e=bibleObject[previousBook].length,t=bibleObject[previousBook][e-1].length;setHashState(previousBook,e,t)}});$("#previousVerse").on("click",function(){verse=$("#verseSelect").val()-1;chapter=$("#chapterSelect").val();book=$("#bookSelect").val();if(typeof bibleObject[book][chapter-1][verse-1]!="undefined")setHashState(book,chapter,verse);else if(typeof bibleObject[book][chapter-2]!="undefined"){var e=bibleObject[book][chapter-2].length;setHashState(book,chapter-1,e)}});$("#nextBook").on("click",function(){$("select#bookSelect option:selected").attr("selected","").next().attr("selected","selected").change()});$("#nextChapter").on("click",function(){$("select#chapterSelect option:selected").attr("selected","").next().attr("selected","selected").change().length<1&&$("#nextBook").click()});$("#nextVerse").on("click",function(){$("select#verseSelect option:selected").attr("selected","").next().attr("selected","selected").change().length<1&&$("#nextChapter").click()});$("#findBranches").click(function(){wordTree($("#reverseRootStrongsNumber").val());return!1});$("#colorSelector").ColorPicker({color:"#0000ff",onShow:function(e){$(e).fadeIn(500);return!1},onHide:function(e){$(e).fadeOut(500);return!1},onChange:function(e,t,n){$("#colorSelector div").css("backgroundColor","#"+t);$("#colorFormColor").val("#"+t).change()}});$(".findRareWords").click(function(){findRareWords($("#maximumNumberOfUses").val());return!1});$(".highlight-all").click(function(e){e.preventDefault();$.each(createUniqueStrongsNumbersArray(),function(e,t){highlightStrongsNumber(t)})});$(".random-verse").click(function(){var e=parseInt(Math.random()*66);$("select.bookSelect option:nth-child("+e+")")});e();$("#showHebrew").on("change",function(){e()});$(document).keyup(function(e){e.keyCode==78&&$("#currentRef").next().length>0&&markReference($("#currentRef").next());e.keyCode==80&&$("#currentRef").prev().length>0&&markReference($("#currentRef").prev());e.keyCode==37&&$("#previousChapter").click();e.keyCode==38&&$("#previousVerse").click();e.keyCode==39&&$("#nextChapter").click();e.keyCode==40&&$("#nextVerse").click()});$(".bookmark").click(function(e){e.preventDefault();$("ol#bookmarks").append(createReferenceListItem(currentReference()))});$(document).on("click",".collapsable h2 a.remove",function(e){e.preventDefault();$(this).closest(".collapsable").remove()});$(".changeStyle").change(function(){$("#"+$(this).attr("name")).html("body { "+$(this).val()+"}")});$("#readingMode").bind("touchstart click",function(){$("html").toggleClass("reading-mode")})});